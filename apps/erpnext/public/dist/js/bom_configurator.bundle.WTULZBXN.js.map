{
  "version": 3,
  "sources": ["../../../../../apps/erpnext/erpnext/public/js/bom_configurator/bom_configurator.bundle.js"],
  "sourcesContent": ["class BOMConfigurator {\n\tconstructor({ wrapper, page, frm, bom_configurator }) {\n\t\tthis.$wrapper = $(wrapper);\n\t\tthis.page = page;\n\t\tthis.bom_configurator = bom_configurator;\n\t\tthis.frm = frm;\n\n\t\tthis.make();\n\t\tthis.prepare_layout();\n\t\tthis.bind_events();\n\t}\n\n\tadd_boms() {\n\t\tthis.frm.call({\n\t\t\tmethod: \"add_boms\",\n\t\t\tfreeze: true,\n\t\t\tdoc: this.frm.doc,\n\t\t});\n\t}\n\n\tmake() {\n\t\tlet options = {\n\t\t\t...this.tree_options(),\n\t\t\t...this.tree_methods(),\n\t\t};\n\n\t\tfrappe.views.trees[\"BOM Configurator\"] = new frappe.views.TreeView(options);\n\t\tlet node = frappe.views.trees[\"BOM Configurator\"].tree.root_node;\n\t\tfrappe.views.trees[\"BOM Configurator\"].tree.show_toolbar(node);\n\t\tfrappe.views.trees[\"BOM Configurator\"].tree.load_children(node, true);\n\t\tthis.tree_view = frappe.views.trees[\"BOM Configurator\"];\n\t}\n\n\tbind_events() {\n\t\tfrappe.views.trees[\"BOM Configurator\"].events = {\n\t\t\tfrm: this.frm,\n\t\t\tadd_item: this.add_item,\n\t\t\tadd_sub_assembly: this.add_sub_assembly,\n\t\t\tset_query_for_workstation: this.set_query_for_workstation,\n\t\t\tget_sub_assembly_modal_fields: this.get_sub_assembly_modal_fields,\n\t\t\tconvert_to_sub_assembly: this.convert_to_sub_assembly,\n\t\t\tdelete_node: this.delete_node,\n\t\t\tedit_bom: this.edit_bom,\n\t\t\tload_tree: this.load_tree,\n\t\t\tset_default_qty: this.set_default_qty,\n\t\t};\n\t}\n\n\ttree_options() {\n\t\treturn {\n\t\t\tparent: this.$wrapper.get(0),\n\t\t\tbody: this.$wrapper.get(0),\n\t\t\tdoctype: \"BOM Configurator\",\n\t\t\tpage: this.page,\n\t\t\texpandable: true,\n\t\t\ttitle: __(\"Configure Product Assembly\"),\n\t\t\tbreadcrumb: \"Manufacturing\",\n\t\t\tget_tree_nodes: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.get_children\",\n\t\t\troot_label: this.frm.doc.item_code,\n\t\t\tdisable_add_node: true,\n\t\t\tget_tree_root: false,\n\t\t\tshow_expand_all: false,\n\t\t\textend_toolbar: false,\n\t\t\tdo_not_make_page: true,\n\t\t\tdo_not_setup_menu: true,\n\t\t};\n\t}\n\n\ttree_methods() {\n\t\tlet frm_obj = this;\n\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\treturn {\n\t\t\tonload: function (me) {\n\t\t\t\tme.args[\"parent_id\"] = frm_obj.frm.doc.name;\n\t\t\t\tme.args[\"parent\"] = frm_obj.frm.doc.item_code;\n\t\t\t\tme.parent = frm_obj.$wrapper.get(0);\n\t\t\t\tme.body = frm_obj.$wrapper.get(0);\n\t\t\t\tme.make_tree();\n\t\t\t},\n\t\t\tonrender(node) {\n\t\t\t\tconst qty = node.data.qty || frm_obj.frm.doc.qty;\n\t\t\t\tconst uom = node.data.uom || frm_obj.frm.doc.uom;\n\t\t\t\tconst docname = node.data.name || frm_obj.frm.doc.name;\n\t\t\t\tlet amount = node.data.amount;\n\t\t\t\tif (node.data.value === frm_obj.frm.doc.item_code) {\n\t\t\t\t\tamount = frm_obj.frm.doc.raw_material_cost;\n\t\t\t\t}\n\n\t\t\t\tamount = frappe.format(amount, { fieldtype: \"Currency\", currency: frm_obj.frm.doc.currency });\n\n\t\t\t\t$(`\n\t\t\t\t\t<div class=\"pill small pull-right bom-qty-pill\"\n\t\t\t\t\t\tstyle=\"background-color: var(--bg-white);\n\t\t\t\t\t\t\tcolor: var(--text-on-gray);\n\t\t\t\t\t\t\tfont-weight:450;\n\t\t\t\t\t\t\tmargin-right: 40px;\n\t\t\t\t\t\t\tdisplay: inline-flex;\n\t\t\t\t\t\t\tmin-width: 128px;\n\t\t\t\t\t\t\tborder: 1px solid var(--bg-gray);\n\t\t\t\t\t\t\">\n\t\t\t\t\t\t\t<div style=\"padding-right:5px\" data-bom-qty-docname=\"${docname}\">${qty} ${uom}</div>\n\t\t\t\t\t\t\t<div class=\"fg-item-amt\" style=\"padding-left:12px; border-left:1px solid var(--bg-gray)\">\n\t\t\t\t\t\t\t\t${amount}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t`).insertBefore(node.$ul);\n\t\t\t},\n\t\t\ttoolbar:\n\t\t\t\tthis.frm?.doc.docstatus === 0\n\t\t\t\t\t? [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __(frappe.utils.icon(\"edit\", \"sm\") + \" BOM\"),\n\t\t\t\t\t\t\t\tclick: function (node) {\n\t\t\t\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\t\t\t\tview.events.edit_bom(node, view);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbtnClass: \"hidden-xs\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __(frappe.utils.icon(\"add\", \"sm\") + \" Raw Material\"),\n\t\t\t\t\t\t\t\tclick: function (node) {\n\t\t\t\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\t\t\t\tview.events.add_item(node, view);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcondition: function (node) {\n\t\t\t\t\t\t\t\t\treturn node.expandable;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbtnClass: \"hidden-xs\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __(frappe.utils.icon(\"add\", \"sm\") + \" Sub Assembly\"),\n\t\t\t\t\t\t\t\tclick: function (node) {\n\t\t\t\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\t\t\t\tview.events.add_sub_assembly(node, view);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcondition: function (node) {\n\t\t\t\t\t\t\t\t\treturn node.expandable;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbtnClass: \"hidden-xs\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __(\"Collapse All\"),\n\t\t\t\t\t\t\t\tclick: function (node) {\n\t\t\t\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\t\t\t\t\t\t\t\tif (!node.expanded) {\n\t\t\t\t\t\t\t\t\t\tview.tree.load_children(node, true);\n\t\t\t\t\t\t\t\t\t\t$(node.parent[0]).find(\".tree-children\").show();\n\t\t\t\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(__(\"Collapse All\"));\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnode.$tree_link.trigger(\"click\");\n\t\t\t\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(__(\"Expand All\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcondition: function (node) {\n\t\t\t\t\t\t\t\t\treturn node.expandable && node.is_root;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbtnClass: \"hidden-xs expand-all-btn\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __(frappe.utils.icon(\"move\", \"sm\") + \" Sub Assembly\"),\n\t\t\t\t\t\t\t\tclick: function (node) {\n\t\t\t\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\t\t\t\tview.events.convert_to_sub_assembly(node, view);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcondition: function (node) {\n\t\t\t\t\t\t\t\t\treturn !node.expandable;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbtnClass: \"hidden-xs\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __(frappe.utils.icon(\"delete\", \"sm\") + \" Item\"),\n\t\t\t\t\t\t\t\tclick: function (node) {\n\t\t\t\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\t\t\t\t\t\t\t\t\tview.events.delete_node(node, view);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcondition: function (node) {\n\t\t\t\t\t\t\t\t\treturn !node.is_root;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbtnClass: \"hidden-xs\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  ]\n\t\t\t\t\t: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __(\"Expand All\"),\n\t\t\t\t\t\t\t\tclick: function (node) {\n\t\t\t\t\t\t\t\t\tlet view = frappe.views.trees[\"BOM Configurator\"];\n\n\t\t\t\t\t\t\t\t\tif (!node.expanded) {\n\t\t\t\t\t\t\t\t\t\tview.tree.load_children(node, true);\n\t\t\t\t\t\t\t\t\t\t$(node.parent[0]).find(\".tree-children\").show();\n\t\t\t\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(__(\"Collapse All\"));\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tnode.$tree_link.trigger(\"click\");\n\t\t\t\t\t\t\t\t\t\tnode.$toolbar.find(\".expand-all-btn\").html(__(\"Expand All\"));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcondition: function (node) {\n\t\t\t\t\t\t\t\t\treturn node.expandable && node.is_root;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tbtnClass: \"hidden-xs expand-all-btn\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t  ],\n\t\t};\n\t}\n\n\tadd_item(node, view) {\n\t\tfrappe.prompt(\n\t\t\t[\n\t\t\t\t{ label: __(\"Item\"), fieldname: \"item_code\", fieldtype: \"Link\", options: \"Item\", reqd: 1 },\n\t\t\t\t{ label: __(\"Qty\"), fieldname: \"qty\", default: 1.0, fieldtype: \"Float\", reqd: 1 },\n\t\t\t],\n\t\t\t(data) => {\n\t\t\t\tif (!node.data.parent_id) {\n\t\t\t\t\tnode.data.parent_id = this.frm.doc.name;\n\t\t\t\t}\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.add_item\",\n\t\t\t\t\targs: {\n\t\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\t\titem_code: data.item_code,\n\t\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\t\tqty: data.qty,\n\t\t\t\t\t},\n\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t\t__(\"Add Item\"),\n\t\t\t__(\"Add\")\n\t\t);\n\t}\n\n\tset_query_for_workstation(dialog) {\n\t\tlet workstation = dialog.fields.filter((field) => field.fieldname === \"workstation\");\n\t\tif (workstation.length) {\n\t\t\tworkstation[0].get_query = function () {\n\t\t\t\tlet workstation_type = dialog.get_value(\"workstation_type\");\n\n\t\t\t\tif (workstation_type) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\tworkstation_type: dialog.get_value(\"workstation_type\"),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tadd_sub_assembly(node, view) {\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\tfields: view.events.get_sub_assembly_modal_fields(view, node.is_root),\n\t\t\ttitle: __(\"Add Sub Assembly\"),\n\t\t});\n\t\tview.events.set_query_for_workstation(dialog);\n\n\t\tdialog.show();\n\t\tdialog.set_primary_action(__(\"Add\"), () => {\n\t\t\tlet bom_item = dialog.get_values();\n\n\t\t\tif (dialog.operation && !dialog.workstation_type && !dialog.workstation) {\n\t\t\t\tfrappe.throw(__(\"Either Workstation or Workstation Type is mandatory\"));\n\t\t\t}\n\n\t\t\tif (!node.data?.parent_id) {\n\t\t\t\tnode.data.parent_id = this.frm.doc.name;\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.add_sub_assembly\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tbom_item: bom_item,\n\t\t\t\t\toperation: node.data.operation,\n\t\t\t\t\tworkstation_type: node.data.workstation_type,\n\t\t\t\t\toperation_time: node.data.operation_time,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdialog.hide();\n\t\t});\n\t}\n\n\tget_sub_assembly_modal_fields(view, is_root = false, read_only = false) {\n\t\tlet fields = [\n\t\t\t{\n\t\t\t\tlabel: __(\"Sub Assembly Item\"),\n\t\t\t\tfieldname: \"item_code\",\n\t\t\t\tfieldtype: \"Link\",\n\t\t\t\toptions: \"Item\",\n\t\t\t\treqd: 1,\n\t\t\t\tread_only: read_only,\n\t\t\t},\n\t\t\t{ fieldtype: \"Column Break\" },\n\t\t\t{\n\t\t\t\tlabel: __(\"Qty\"),\n\t\t\t\tfieldname: \"qty\",\n\t\t\t\tdefault: 1.0,\n\t\t\t\tfieldtype: \"Float\",\n\t\t\t\treqd: 1,\n\t\t\t\tread_only: read_only,\n\t\t\t\tchange() {\n\t\t\t\t\tthis.layout.fields_dict.items.grid.data.forEach((row) => {\n\t\t\t\t\t\trow.qty = flt(this.value);\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.layout.fields_dict.items.grid.refresh();\n\t\t\t\t},\n\t\t\t},\n\t\t];\n\n\t\tif (is_root) {\n\t\t\tfields.push(\n\t\t\t\t...[\n\t\t\t\t\t{ fieldtype: \"Section Break\" },\n\t\t\t\t\t{\n\t\t\t\t\t\tlabel: __(\"Operation\"),\n\t\t\t\t\t\tfieldname: \"operation\",\n\t\t\t\t\t\tfieldtype: \"Link\",\n\t\t\t\t\t\toptions: \"Operation\",\n\t\t\t\t\t\tget_query() {\n\t\t\t\t\t\t\tlet doc = view.events.frm.doc;\n\n\t\t\t\t\t\t\tif (doc.routing) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tquery: \"erpnext.manufacturing.doctype.routing.routing.get_operations\",\n\t\t\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t\t\trouting: doc.routing,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t);\n\t\t}\n\n\t\tfields.push(\n\t\t\t...[\n\t\t\t\t{ fieldtype: \"Section Break\" },\n\t\t\t\t{\n\t\t\t\t\tlabel: __(\"Raw Materials\"),\n\t\t\t\t\tfieldname: \"items\",\n\t\t\t\t\tfieldtype: \"Table\",\n\t\t\t\t\treqd: 1,\n\t\t\t\t\tfields: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __(\"Item\"),\n\t\t\t\t\t\t\tfieldname: \"item_code\",\n\t\t\t\t\t\t\tfieldtype: \"Link\",\n\t\t\t\t\t\t\toptions: \"Item\",\n\t\t\t\t\t\t\treqd: 1,\n\t\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\t\tchange() {\n\t\t\t\t\t\t\t\tlet doc = this.doc;\n\t\t\t\t\t\t\t\tdoc.qty = 1.0;\n\t\t\t\t\t\t\t\tthis.grid.set_value(\"qty\", 1.0, doc);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __(\"Qty\"),\n\t\t\t\t\t\t\tfieldname: \"qty\",\n\t\t\t\t\t\t\tdefault: 1.0,\n\t\t\t\t\t\t\tfieldtype: \"Float\",\n\t\t\t\t\t\t\treqd: 1,\n\t\t\t\t\t\t\tin_list_view: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\n\t\treturn fields;\n\t}\n\n\tconvert_to_sub_assembly(node, view) {\n\t\tlet dialog = new frappe.ui.Dialog({\n\t\t\tfields: view.events.get_sub_assembly_modal_fields(view, node.is_root, true),\n\t\t\ttitle: __(\"Add Sub Assembly\"),\n\t\t});\n\n\t\tdialog.set_values({\n\t\t\titem_code: node.data.value,\n\t\t\tqty: node.data.qty,\n\t\t});\n\n\t\tdialog.show();\n\t\tdialog.set_primary_action(__(\"Add\"), () => {\n\t\t\tlet bom_item = dialog.get_values();\n\n\t\t\tif (!bom_item.item_code) {\n\t\t\t\tfrappe.throw(__(\"Sub Assembly Item is mandatory\"));\n\t\t\t}\n\n\t\t\tbom_item.items.forEach((d) => {\n\t\t\t\tif (!d.item_code) {\n\t\t\t\t\tfrappe.throw(__(\"Item is mandatory in Raw Materials table.\"));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (dialog.operation && !dialog.workstation_type && !dialog.workstation) {\n\t\t\t\tfrappe.throw(__(\"Either Workstation or Workstation Type is mandatory\"));\n\t\t\t}\n\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.add_sub_assembly\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tbom_item: bom_item,\n\t\t\t\t\tfg_reference_id: node.data.name || this.frm.doc.name,\n\t\t\t\t\tconvert_to_sub_assembly: true,\n\t\t\t\t\toperation: node.data.operation,\n\t\t\t\t\tworkstation_type: node.data.workstation_type,\n\t\t\t\t\toperation_time: node.data.operation_time,\n\t\t\t\t\tworkstation: node.data.workstation,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tnode.expandable = true;\n\t\t\t\t\tview.events.load_tree(r, node.parent_node);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdialog.hide();\n\t\t});\n\t}\n\n\tset_default_qty(dialog) {\n\t\tdialog.fields_dict.items.grid.fields_map.item_code.onchange = function (event) {\n\t\t\tif (event) {\n\t\t\t\tlet name = $(event.currentTarget).closest(\".grid-row\").attr(\"data-name\");\n\t\t\t\tlet item_row = dialog.fields_dict.items.grid.grid_rows_by_docname[name].doc;\n\t\t\t\titem_row.qty = 1;\n\t\t\t\tdialog.fields_dict.items.grid.refresh();\n\t\t\t}\n\t\t};\n\t}\n\n\tdelete_node(node, view) {\n\t\tfrappe.confirm(__(\"Are you sure you want to delete this Item?\"), () => {\n\t\t\tfrappe.call({\n\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.delete_node\",\n\t\t\t\targs: {\n\t\t\t\t\tparent: node.data.parent_id,\n\t\t\t\t\tfg_item: node.data.value,\n\t\t\t\t\tdoctype: node.data.doctype,\n\t\t\t\t\tdocname: node.data.name,\n\t\t\t\t},\n\t\t\t\tcallback: (r) => {\n\t\t\t\t\tview.events.load_tree(r, node.parent_node);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t}\n\n\tedit_bom(node, view) {\n\t\tlet me = this;\n\t\tlet qty = node.data.qty || this.frm.doc.qty;\n\t\tlet fields = [{ label: __(\"Qty\"), fieldname: \"qty\", default: qty, fieldtype: \"Float\", reqd: 1 }];\n\n\t\tthis.frm.edit_bom_dialog = frappe.prompt(\n\t\t\tfields,\n\t\t\t(data) => {\n\t\t\t\tlet doctype = node.data.doctype || this.frm.doc.doctype;\n\t\t\t\tlet docname = node.data.name || this.frm.doc.name;\n\n\t\t\t\tfrappe.call({\n\t\t\t\t\tmethod: \"erpnext.manufacturing.doctype.bom_creator.bom_creator.edit_bom_creator\",\n\t\t\t\t\targs: {\n\t\t\t\t\t\tdoctype: doctype,\n\t\t\t\t\t\tdocname: docname,\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tparent: node.data.parent_id || this.frm.doc.name,\n\t\t\t\t\t},\n\t\t\t\t\tcallback: (r) => {\n\t\t\t\t\t\tfor (let key in data) {\n\t\t\t\t\t\t\tnode.data[key] = data[key];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet uom = node.data.uom || this.frm.doc.uom;\n\t\t\t\t\t\t$(node.parent.get(0))\n\t\t\t\t\t\t\t.find(`[data-bom-qty-docname='${docname}']`)\n\t\t\t\t\t\t\t.html(data.qty + \" \" + uom);\n\t\t\t\t\t\tview.events.load_tree(r, node);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t},\n\t\t\t__(\"Edit BOM\"),\n\t\t\t__(\"Update\")\n\t\t);\n\t}\n\n\tprepare_layout() {\n\t\tlet main_div = $(this.page)[0];\n\n\t\tmain_div.style.marginBottom = \"15px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.minHeight = \"370px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.maxHeight = \"370px\";\n\t\t$(main_div).find(\".tree-children\")[0].style.overflowY = \"auto\";\n\t}\n\n\tload_tree(response, node) {\n\t\tlet item_row = \"\";\n\t\tlet parent_dom = \"\";\n\t\tlet total_amount = response.message.raw_material_cost;\n\n\t\tfrappe.views.trees[\"BOM Configurator\"].tree.load_children(node);\n\n\t\twhile (node) {\n\t\t\titem_row = response.message.items.filter((item) => item.name === node.data.name);\n\n\t\t\tif (item_row?.length) {\n\t\t\t\tnode.data.amount = item_row[0].amount;\n\t\t\t\ttotal_amount = node.data.amount;\n\t\t\t} else {\n\t\t\t\ttotal_amount = response.message.raw_material_cost;\n\t\t\t}\n\n\t\t\tparent_dom = $(node.parent.get(0));\n\t\t\ttotal_amount = frappe.format(total_amount, {\n\t\t\t\tfieldtype: \"Currency\",\n\t\t\t\tcurrency: this.frm.doc.currency,\n\t\t\t});\n\n\t\t\t$($(parent_dom).find(\".fg-item-amt\")[0]).html(total_amount);\n\t\t\tnode = node.parent_node;\n\t\t}\n\t}\n}\n\nfrappe.ui.BOMConfigurator = BOMConfigurator;\n"],
  "mappings": "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",
  "names": ["view"]
}
